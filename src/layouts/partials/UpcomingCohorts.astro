---
import { markdownify } from "@/lib/utils/textConverter";
const { upcoming_cohorts } = Astro.props;
---

{
  upcoming_cohorts.data.enable && (
    <section id="upcoming-cohorts" class="section">
      <div class="container">
        <h2 set:html={markdownify(upcoming_cohorts.data.title)} class="mb-8 text-center" />
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {upcoming_cohorts.data.cohorts.map(
            (cohort: { name: string; description?: string; duration?: string; dates: string; link?: string; blogLink?: string }) => (
              <div class="border border-border dark:border-darkmode-border rounded-lg p-6 bg-theme-light dark:bg-darkmode-theme-light">
                <div class="flex flex-col h-full">
                  <div class="mb-4">
                    {cohort.blogLink ? (
                      <a href={cohort.blogLink} target="_blank" rel="noopener noreferrer" class="hover:text-primary">
                        <h3 class="text-xl font-bold text-text-dark dark:text-white mb-1">{cohort.name}</h3>
                      </a>
                    ) : (
                      <h3 class="text-xl font-bold text-text-dark dark:text-white mb-1">{cohort.name}</h3>
                    )}
                    {cohort.description && (
                      <p class="text-text dark:text-darkmode-text font-medium">{cohort.description}</p>
                    )}
                  </div>
                  <div class="text-sm text-text dark:text-darkmode-text mb-4">
                    {cohort.duration && <p>{cohort.duration}</p>}
                    <p>{cohort.dates}</p>
                  </div>
                  <div class="mt-auto">
                    {cohort.link ? (
                      <a
                        href={cohort.link}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="btn btn-primary btn-sm w-full text-center font-bold"
                      >
                        Apply
                      </a>
                    ) : (
                      <span class="btn btn-outline-primary btn-sm w-full opacity-50 cursor-not-allowed">
                        Coming soon
                      </span>
                    )}
                  </div>
                </div>
              </div>
            )
          )}
        </div>
      </div>
    </section>
  )
}
