---
import { getCollection } from "astro:content";
import TimelineTabs from "@/components/TimelineTabs";
import ImageMod from "@/components/ImageMod.astro";

// Fetch all cohorts
const cohorts = await getCollection("cohorts");
---

<section id="apply" class="w-full bg-primary text-white py-16 xl:py-20">
  <div class="container">
    <div class="flex flex-col lg:flex-row gap-8 items-center">
      <div class="flex-1 lg:w-3/5">
        <TimelineTabs cohorts={cohorts} client:load />
      </div>
      <div class="lg:w-2/5 flex items-center justify-center">
        <a
          href="https://en.wikipedia.org/wiki/Endurance_(1912_ship)"
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center justify-center w-full"
        >
          <ImageMod
            src="/images/men-wanted.png"
            alt="Vintage recruitment poster encouraging applications"
            width={600}
            height={387}
            class="w-full max-w-lg mix-blend-darken"
            loading="lazy"
          />
        </a>
      </div>
    </div>
  </div>
</section>
